# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –æ—Ç—á—ë—Ç–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞
–í –Ω–µ–¥–µ–ª—å–Ω—ã—Ö –∏ –º–µ—Å—è—á–Ω—ã—Ö –æ—Ç—á—ë—Ç–∞—Ö –ò–ò –¥–∞–≤–∞–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∫–∞–ª–æ—Ä–∏—è–º:
- **–ù–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç**: —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–ª 4147 –∫–∫–∞–ª –≤ –¥–µ–Ω—å (—Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ)
- **–ú–µ—Å—è—á–Ω—ã–π –æ—Ç—á—ë—Ç**: —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–ª 504 –∫–∫–∞–ª –≤ –¥–µ–Ω—å (—Å–ª–∏—à–∫–æ–º –º–∞–ª–æ)

## –ü—Ä–∏—á–∏–Ω–∞
–ò–ò —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–ª —Å—Ä–µ–¥–Ω—é—é –¥–Ω–µ–≤–Ω—É—é –Ω–æ—Ä–º—É, –∏–≥–Ω–æ—Ä–∏—Ä—É—è —Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å–∏—Å—Ç–µ–º—ã.

## –†–µ—à–µ–Ω–∏–µ

### 1. –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–æ—á–Ω—ã–µ —Ä–∞—Å—á—ë—Ç—ã –≤ `health_service.py`

#### –ù–æ–≤—ã–µ –ø–æ–ª—è –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π:
```python
# Calculate remaining targets for recommendations
remaining_calories = max(0, period_calorie_target - total_calories)
remaining_protein = max(0, period_protein_target - total_protein)
remaining_fat = max(0, period_fat_target - total_fat)
remaining_carbs = max(0, period_carbs_target - total_carbs)

# Calculate average daily targets for remaining days
avg_daily_calories_remaining = remaining_calories / remaining_days if remaining_days > 0 else 0
avg_daily_protein_remaining = remaining_protein / remaining_days if remaining_days > 0 else 0
avg_daily_fat_remaining = remaining_fat / remaining_days if remaining_days > 0 else 0
avg_daily_carbs_remaining = remaining_carbs / remaining_days if remaining_days > 0 else 0
```

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö:
- `remaining_calories`, `remaining_protein`, `remaining_fat`, `remaining_carbs`
- `avg_daily_calories_remaining`, `avg_daily_protein_remaining`, `avg_daily_fat_remaining`, `avg_daily_carbs_remaining`

### 2. –û–±–Ω–æ–≤–ª—ë–Ω –ø—Ä–æ–º–ø—Ç –≤ `openai_service.py`

#### –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–æ—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø—Ä–æ–º–ø—Ç:
```
–û—Å—Ç–∞–ª–æ—Å—å –¥–æ —Ü–µ–ª–∏:
- –ö–∞–ª–æ—Ä–∏–∏: {remaining_calories}
- –ë–µ–ª–∫–∏: {remaining_protein}–≥
- –ñ–∏—Ä—ã: {remaining_fat}–≥
- –£–≥–ª–µ–≤–æ–¥—ã: {remaining_carbs}–≥

–°—Ä–µ–¥–Ω—è—è –¥–Ω–µ–≤–Ω–∞—è –Ω–æ—Ä–º–∞ –Ω–∞ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –¥–Ω–∏:
- –ö–∞–ª–æ—Ä–∏–∏: {avg_daily_calories_remaining:.0f}
- –ë–µ–ª–∫–∏: {avg_daily_protein_remaining:.1f}–≥
- –ñ–∏—Ä—ã: {avg_daily_fat_remaining:.1f}–≥
- –£–≥–ª–µ–≤–æ–¥—ã: {avg_daily_carbs_remaining:.1f}–≥
```

#### –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
```
üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ù–ê –û–°–¢–ê–í–®–ò–ï–°–Ø –î–ù–ò
‚Ä¢ –°—Ä–µ–¥–Ω—è—è –¥–Ω–µ–≤–Ω–∞—è –Ω–æ—Ä–º–∞ –∫–∞–ª–æ—Ä–∏–π: {avg_daily_calories_remaining:.0f} –∫–∫–∞–ª
‚Ä¢ –ë–µ–ª–∫–∏: {avg_daily_protein_remaining:.1f}–≥, –ñ–∏—Ä—ã: {avg_daily_fat_remaining:.1f}–≥, –£–≥–ª–µ–≤–æ–¥—ã: {avg_daily_carbs_remaining:.1f}–≥
```

#### –î–æ–±–∞–≤–ª–µ–Ω–æ –≤–∞–∂–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ:
```
–í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å—Ä–µ–¥–Ω–µ–π –¥–Ω–µ–≤–Ω–æ–π –Ω–æ—Ä–º—ã, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã! –ù–µ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–π –∏—Ö —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ.
```

## –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —Ä–∞—Å—á—ë—Ç–æ–≤

### –ù–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç (–µ—Å–ª–∏ —Å–µ–≥–æ–¥–Ω—è –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫):
- **–ü–µ—Ä–∏–æ–¥**: 1 –¥–µ–Ω—å
- **–û—Å—Ç–∞–ª–æ—Å—å –¥–Ω–µ–π**: 6
- **–¶–µ–ª—å –∑–∞ –Ω–µ–¥–µ–ª—é**: 532 √ó 7 = 3724 –∫–∫–∞–ª
- **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–æ**: 1256 –∫–∫–∞–ª
- **–û—Å—Ç–∞–ª–æ—Å—å**: 3724 - 1256 = 2468 –∫–∫–∞–ª
- **–°—Ä–µ–¥–Ω—è—è –¥–Ω–µ–≤–Ω–∞—è –Ω–æ—Ä–º–∞**: 2468 √∑ 6 = **412 –∫–∫–∞–ª** (–≤–º–µ—Å—Ç–æ 4147!)

### –ú–µ—Å—è—á–Ω—ã–π –æ—Ç—á—ë—Ç (–µ—Å–ª–∏ —Å–µ–≥–æ–¥–Ω—è 4-–µ —á–∏—Å–ª–æ):
- **–ü–µ—Ä–∏–æ–¥**: 4 –¥–Ω—è
- **–û—Å—Ç–∞–ª–æ—Å—å –¥–Ω–µ–π**: 24
- **–¶–µ–ª—å –∑–∞ –º–µ—Å—è—Ü**: 532 √ó 28 = 14896 –∫–∫–∞–ª
- **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–æ**: 1256 –∫–∫–∞–ª
- **–û—Å—Ç–∞–ª–æ—Å—å**: 14896 - 1256 = 13640 –∫–∫–∞–ª
- **–°—Ä–µ–¥–Ω—è—è –¥–Ω–µ–≤–Ω–∞—è –Ω–æ—Ä–º–∞**: 13640 √∑ 24 = **568 –∫–∫–∞–ª** (–≤–º–µ—Å—Ç–æ 504!)

## –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ **–¢–æ—á–Ω—ã–µ —Ä–∞—Å—á—ë—Ç—ã**: –°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ò–ò —Ç–æ—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**: –ò–ò –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–æ—Ç–æ–≤—ã–µ —Ä–∞—Å—á—ë—Ç—ã –≤–º–µ—Å—Ç–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö
‚úÖ **–õ–æ–≥–∏—á–Ω–∞—è –ª–æ–≥–∏–∫–∞**: –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–∞–ª—å–Ω—ã–º –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è–º
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ª—é–±–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–Ω–µ–π –≤ –ø–µ—Ä–∏–æ–¥–µ

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–¢–µ–ø–µ—Ä—å –æ—Ç—á—ë—Ç—ã –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å:
- **–ù–µ–¥–µ–ª—å–Ω—ã–π**: ~412 –∫–∫–∞–ª –≤ –¥–µ–Ω—å (–≤–º–µ—Å—Ç–æ 4147)
- **–ú–µ—Å—è—á–Ω—ã–π**: ~568 –∫–∫–∞–ª –≤ –¥–µ–Ω—å (–≤–º–µ—Å—Ç–æ 504)

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å—Ç–∞–Ω—É—Ç —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º–∏ –∏ –≤—ã–ø–æ–ª–Ω–∏–º—ã–º–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. 